// CHANGE FOR APPS HOSTED IN SUBDIRECTORY
FCKRelativePath = '';

// DON'T CHANGE THESE
//FCKConfig.LinkBrowserURL = FCKConfig.BasePath + 'filemanager/browser/default/browser.html?Connector=' + FCKRelativePath + '/fckeditor/command';
//FCKConfig.ImageBrowserURL = FCKConfig.BasePath + 'filemanager/browser/default/browser.html?Type=Image&Connector=' + FCKRelativePath + '/fckeditor/command';
//FCKConfig.FlashBrowserURL = FCKConfig.BasePath + 'filemanager/browser/default/browser.html?Type=Flash&Connector=' + FCKRelativePath + '/fckeditor/command';
FCKConfig.LinkBrowserURL = '/file_browser?type=link';
FCKConfig.LinkBrowserWindowWidth = 500;
FCKConfig.LinkBrowserWindowHeight = 500;
FCKConfig.ImageBrowserURL = '/file_browser?type=image';
FCKConfig.ImageBrowserWindowWidth = 500;
FCKConfig.ImageBrowserWindowHeight = 500;
FCKConfig.FlashBrowserURL = '/file_browser?type=flash';
FCKConfig.FlashBrowserWindowWidth = 500;
FCKConfig.FlashBrowserWindowHeight = 500;


// FCKConfig.LinkBrowser = false;
FCKConfig.LinkUpload = false;
FCKConfig.ImageUpload = false;
FCKConfig.FlashUpload = false;

// FCKConfig.LinkUploadURL = FCKRelativePath + '/fckeditor/upload';
// FCKConfig.ImageUploadURL = FCKRelativePath + '/fckeditor/command?Command=FileUpload&Type=Image&CurrentFolder=/';
// FCKConfig.FlashUploadURL = FCKRelativePath + '/fckeditor/upload?Type=Flash';

FCKConfig.ImageUploadAllowedExtensions = "\.(jpg|gif|jpeg|png)$" ;
FCKConfig.LinkUploadAllowedExtensions = "\.(asf|avi|doc|flv|gif|htm|html|xhtml|jpeg|jpg|mov|mp3|mp4|mpeg|mpg|ods|odg|odt|odb|pdf|png|ppt|qt|sxw|sxc|sxi|swf|tar|tgz|tif|tiff|txt|text|wav|wma|wmv|xls|xml|zip)$" ;

FCKConfig.FlashUploadAllowedExtensions = "\.(swf|flv)$" ;

FCKConfig.SpellerPagesServerScript = FCKRelativePath + '/fckeditor/check_spelling';
FCKConfig.AllowQueryStringDebug = false;
FCKConfig.SpellChecker = 'SpellerPages';

FCKConfig.ProtectedSource.Add(/<\/?r:*?>/gi);
FCKConfig.ProtectedTags = '<%= @fck_tag_list %>' ;

//FCKConfig.SkinPath = FCKConfig.BasePath + 'skins/silver/';

/*
FCKConfig.ToolbarSets["Default"] = [
  ['Source','DocProps','-','Save','NewPage','Preview','-','Templates'],
  ['Cut','Copy','Paste','PasteText','PasteWord','-','Print','SpellCheck'],
  ['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],
  ['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],
  '/',
  ['Bold','Italic','Underline','StrikeThrough','-','Subscript','Superscript'],
  ['OrderedList','UnorderedList','-','Outdent','Indent','Blockquote'],
  ['JustifyLeft','JustifyCenter','JustifyRight','JustifyFull'],
  ['Link','Unlink','Anchor'],
  ['Image','Flash','Table','Rule','Smiley','SpecialChar','PageBreak'],
  '/',
  ['Style','FontFormat','FontName','FontSize'],
  ['TextColor','BGColor'],
  ['FitWindow','ShowBlocks','-','About'] // No comma for the last row.
] ;
*/

FCKConfig.ToolbarSets["Simple"] = [
  ['Source', '-', 'Save'],
  ['Cut','Copy','Paste','PasteText','PasteWord','-','Print','SpellCheck'],
  ['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],
  '/',
  ['OrderedList','UnorderedList','-','Outdent','Indent','Blockquote'],
  ['JustifyLeft','JustifyCenter','JustifyRight','JustifyFull'],
  ['Link','Unlink'],
  ['Image','Flash', 'YouTube', 'googlemaps', 'Table','Rule','SpecialChar'],
  '/',
  ['Bold','Italic','Underline','StrikeThrough'],
  ['FontFormat', 'FontSize'],
  ['TextColor','BGColor'],
  ['FitWindow','ShowBlocks'] // No comma for the last row.
];

// Removed some questionable items: 'Style', 'Smiley', 'FontName', 'FontSize','Subscript','Superscript','Anchor'

FCKConfig.Plugins.Add( 'youtube', 'en,ja' ) ;
FCKConfig.Plugins.Add( 'googlemaps', 'de,en,es,fr,it,nl,no,zh') ;

<%
  # If the current site is a subdomain of outrighteous.com then try to get the temp
  # key they'll be using to do their site development.
  condition = !@current_site.nil? && @current_site.hostname =~ /.*\.outrighteous\.com/
  snippet_name = condition ? '_google_maps_key' : 'google_maps_key'
%>
FCKConfig.GoogleMaps_Key = '<%=Snippet.find_by_name(snippet_name).content rescue ''%>';
